# DEV_LOG - 2026-02-14

## 任务：实现音符发光体动态效果与频率分布优化

### 1. 需求背景
- 用户希望“烟火”由具体的音符形状（♩, ♪, ♫）组成，并带有上升烟雾散去的效果。
- 修正目前频谱分布偏左的问题（草地总是左边亮），使其更符合钢琴 88 键的音高分布。

### 3. 工作回顾
1.  **频率映射重构**：优化了从 1024 频带到 88 琴键的映射算法，解决了由于低频能量过高导致的视觉分布偏左问题，现在音乐活动能更均衡地分布在键盘中段。
2.  **音符粒子系统**：实现了 `NoteParticle` 功能。当音符响起时，会从对应的钢琴键位置随机弹出 ♩, ♪, ♫ 等音符发光体。
3.  **烟雾弥散效果**：新增 `SmokeParticle`。音符在冉冉上升的过程中会产生由于发光产生的“热气”烟雾，并随运动缓缓消失。
4.  **物理模拟精调**：增加了音符粒子的随机旋转和飘动物理，使其呈现“飘飘然上升”的视觉感。

---
